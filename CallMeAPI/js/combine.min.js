! function(d) {
    d.zcbwIdleTimer = function(t, a) {
        var e;
        "object" == typeof t ? (e = t, t = null) : "number" == typeof t && (e = {
            timeout: t
        }, t = null), a = a || document, e = d.extend({
            idle: !1,
            timeout: 3e4,
            events: "mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"
        }, e);
        var i, n, o, s = d(a),
            l = s.data("zcbwIdleTimerObj") || {},
            r = function(t) {
                var e = d.data(a, "zcbwIdleTimerObj") || {};
                e.idle = !e.idle, e.olddate = +new Date;
                var i = d.Event((e.idle ? "idle" : "active") + ".zcbwIdleTimer");
                d(a).trigger(i, [a, d.extend({}, e), t])
            },
            c = function() {
                var t = d.data(a, "zcbwIdleTimerObj") || {};
                t.idle = t.idleBackup, t.olddate = +new Date, t.lastActive = t.olddate, t.remaining = null, clearTimeout(t.tId), t.idle || (t.tId = setTimeout(r, t.timeout))
            };
        if (null === t && void 0 !== l.idle) return c(), s;
        if (null === t);
        else {
            if (null !== t && void 0 === l.idle) return !1;
            if ("destroy" === t) return o = d.data(a, "zcbwIdleTimerObj") || {}, clearTimeout(o.tId), s.removeData("zcbwIdleTimerObj"), s.off("._zcbwIdleTimer"), s;
            if ("pause" === t) return null == (n = d.data(a, "zcbwIdleTimerObj") || {}).remaining && (n.remaining = n.timeout - (+new Date - n.olddate), clearTimeout(n.tId)), s;
            if ("resume" === t) return null != (i = d.data(a, "zcbwIdleTimerObj") || {}).remaining && (i.idle || (i.tId = setTimeout(r, i.remaining)), i.remaining = null), s;
            if ("reset" === t) return c(), s;
            if ("getRemainingTime" === t) return function() {
                var t = d.data(a, "zcbwIdleTimerObj") || {};
                if (t.idle) return 0;
                if (null != t.remaining) return t.remaining;
                var e = t.timeout - (+new Date - t.lastActive);
                return e < 0 && (e = 0), e
            }();
            if ("getElapsedTime" === t) return +new Date - l.olddate;
            if ("getLastActiveTime" === t) return l.lastActive;
            if ("isIdle" === t) return l.idle
        }
        return s.on(d.trim((e.events + " ").split(" ").join("._zcbwIdleTimer ")), function(t) {
            ! function(t) {
                var e = d.data(a, "zcbwIdleTimerObj") || {};
                if (null == e.remaining) {
                    if ("mousemove" === t.type) {
                        if (t.pageX === e.pageX && t.pageY === e.pageY) return;
                        if (void 0 === t.pageX && void 0 === t.pageY) return;
                        if (+new Date - e.olddate < 200) return
                    }
                    clearTimeout(e.tId), e.idle && r(t), e.lastActive = +new Date, e.pageX = t.pageX, e.pageY = t.pageY, e.tId = setTimeout(r, e.timeout)
                }
            }(t)
        }), (l = d.extend({}, {
            olddate: +new Date,
            lastActive: +new Date,
            idle: e.idle,
            idleBackup: e.idle,
            timeout: e.timeout,
            remaining: null,
            tId: null,
            pageX: null,
            pageY: null
        })).idle || (l.tId = setTimeout(r, l.timeout)), d.data(a, "zcbwIdleTimerObj", l), s
    }, d.fn.zcbwIdleTimer = function(t) {
        return this[0] ? d.zcbwIdleTimer(t, this[0]) : this
    }
}(jQuery),
function(f) {
    var a = /\+/g;

    function v(t) {
        return m.raw ? t : encodeURIComponent(t)
    }

    function g(t, e) {
        var i = m.raw ? t : function(t) {
            0 === t.indexOf('"') && (t = t.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                return t = decodeURIComponent(t.replace(a, " ")), m.json ? JSON.parse(t) : t
            } catch (t) {}
        }(t);
        return f.isFunction(e) ? e(i) : i
    }
    var m = f.zcbwCookie = function(t, e, i) {
        if (1 < arguments.length && !f.isFunction(e)) {
            if ("number" == typeof(i = f.extend({}, m.defaults, i)).expires) {
                var a = i.expires,
                    n = i.expires = new Date;
                n.setTime(+n + 864e5 * a)
            }
            return document.cookie = [v(t), "=", (o = e, v(m.json ? JSON.stringify(o) : String(o))), i.expires ? "; expires=" + i.expires.toUTCString() : "", i.path ? "; path=" + i.path : "", i.domain ? "; domain=" + i.domain : "", i.secure ? "; secure" : ""].join("")
        }
        for (var o, s, l = t ? void 0 : {}, r = document.cookie ? document.cookie.split("; ") : [], c = 0, d = r.length; c < d; c++) {
            var p = r[c].split("="),
                u = (s = p.shift(), m.raw ? s : decodeURIComponent(s)),
                h = p.join("=");
            if (t && t === u) {
                l = g(h, e);
                break
            }
            t || void 0 === (h = g(h)) || (l[u] = h)
        }
        return l
    };
    m.defaults = {}, f.zcbwRemoveCookie = function(t, e) {
        return void 0 !== f.zcbwCookie(t) && (f.zcbwCookie(t, "", f.extend({}, e, {
            expires: -1
        })), !f.zcbwCookie(t))
    }
}(jQuery);
var ZCallbackWidgetTemplate = {
    miniButton: function() {
        return {
            d0b0: '<div id="zcwMiniButton"><div id="zcwMiniButtonMain"></div>',
            d1b0: '<div id="zcwMiniButton" class="z-widget-button z-widget-simple-btn"><svg width="26" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M13 0C5.82 0 0 4.925 0 11c0 2.676 1.132 5.126 3.01 7.033.038.095 1.001 2.574-1.852 5.102a.5.5 0 0 0 .45.853c2.875-.17 5.335-1.597 6.837-2.697 1.42.45 2.95.709 4.555.709 7.18 0 13-4.925 13-11S20.18 0 13 0zm0 4.5a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 13 4.5zM12 10h2v7h-2v-7z" fill="#FFF" fill-rule="nonzero"/></svg></div>',
            d1b1: '<div id="zcwMiniButton" class="z-sticky-button zsb z-b-r"><div class="zsb__icon"><div class="z-phone-ico"><svg fill="#FFFFFF" width="23px" height="23px" viewBox="0 0 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M17.2248657,14.8886218 C16.8188691,14.6506236 16.3198732,14.6556236 15.9158766,14.8956218 L13.8698934,16.1146127 C13.4118972,16.3876106 12.839902,16.3556109 12.4199054,16.0276133 C11.6939114,15.4606176 10.5249211,14.5066247 9.50792946,13.4896323 C8.49093786,12.4726399 7.53694574,11.3036486 6.96995042,10.577654 C6.64195313,10.1576572 6.60995339,9.58566143 6.88295114,9.12766485 L8.10194107,7.08168013 C8.34293908,6.67768315 8.34493907,6.1746869 8.10694103,5.76868994 L5.10496582,0.640728235 C4.81396822,0.14473194 4.235973,-0.099266238 3.67697761,0.0377327388 C3.13398209,0.169731753 2.42898792,0.491729348 1.68999402,1.23172382 C-0.623986876,3.54570654 -1.85297673,7.44867739 6.84895142,16.1506124 C15.5508796,24.8525474 19.4528473,23.6245566 21.7678282,21.3095739 C22.5088221,20.5685794 22.8298195,19.8625847 22.9628184,19.3185887 C23.0978173,18.7605929 22.8578192,18.1865972 22.3628233,17.8965994 C21.1268335,17.1736048 18.4608555,15.6126164 17.2248657,14.8886218 Z"></path></svg></div></div><div class="zsb__text">Ð•ÑÑ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹? ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð½Ð°Ð¼!</div>\x3c!--<div class="zsb__close"><svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M1.565 0a.52.52 0 0 0-.369.153L.153 1.196a.521.521 0 0 0 0 .738L3.958 5.74.153 9.544a.521.521 0 0 0 0 .738l1.043 1.043a.521.521 0 0 0 .738 0L5.74 7.52l3.805 3.805a.521.521 0 0 0 .738 0l1.043-1.043a.521.521 0 0 0 0-.738L7.52 5.74l3.805-3.805a.521.521 0 0 0 0-.738L10.282.153a.521.521 0 0 0-.738 0L5.74 3.958 1.934.153A.52.52 0 0 0 1.565 0z" fill="#FFF" fill-rule="nonzero"/></svg></div>--\x3e</div>',
            d1b2: '<div class="z-circle-message-button z-c-m z-b-r"><div class="z-c-m__button"><img src="https://my.zadarma.com/callbackWidget/images/user-' + ZCallbackWidget.options.avatar_id + '.png" alt="" data-text-key="userpic"></div><div class="z-c-m__content"><div id="zcwMiniButton" class="z-c-m__phone"><svg fill="#FFFFFF" width="23px" height="23px" viewBox="0 0 23 23" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M17.2248657,14.8886218 C16.8188691,14.6506236 16.3198732,14.6556236 15.9158766,14.8956218 L13.8698934,16.1146127 C13.4118972,16.3876106 12.839902,16.3556109 12.4199054,16.0276133 C11.6939114,15.4606176 10.5249211,14.5066247 9.50792946,13.4896323 C8.49093786,12.4726399 7.53694574,11.3036486 6.96995042,10.577654 C6.64195313,10.1576572 6.60995339,9.58566143 6.88295114,9.12766485 L8.10194107,7.08168013 C8.34293908,6.67768315 8.34493907,6.1746869 8.10694103,5.76868994 L5.10496582,0.640728235 C4.81396822,0.14473194 4.235973,-0.099266238 3.67697761,0.0377327388 C3.13398209,0.169731753 2.42898792,0.491729348 1.68999402,1.23172382 C-0.623986876,3.54570654 -1.85297673,7.44867739 6.84895142,16.1506124 C15.5508796,24.8525474 19.4528473,23.6245566 21.7678282,21.3095739 C22.5088221,20.5685794 22.8298195,19.8625847 22.9628184,19.3185887 C23.0978173,18.7605929 22.8578192,18.1865972 22.3628233,17.8965994 C21.1268335,17.1736048 18.4608555,15.6126164 17.2248657,14.8886218 Z"></path></svg></div><div class="z-c-m__text">Ð¥Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑÐºÐ¸Ð´ÐºÑƒ?<br>Ð¡Ð²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð½Ð°Ð¼Ð¸!</div></div><div class="z-c-m__close"></div></div>'
        }["d" + this._getDesignId() + "b" + this._getButtonId()]
    },
    main: function() {
        return {
            d0p0: '<div class="zcwPopup-bg"></div><div class="zcwPopup"><div class="zcwPopup-close">X</div><div class="zcwPopup-content"><h3 class="zcwPopup-title"></h3><p class="zcwPopup-description"></p><div class="zcwPopup-form"></div></div></div>',
            d1p0: '<div class="zcwPopup-bg"></div><div class="zcwPopup z-widget-sidebar z-widget-sidebar"><div class="z-widget-sidebar-header">&nbsp;<div class="z-widget-sidebar-close zcwPopup-close"></div></div><div class="z-widget-sidebar-content"><div class="z-widget-sidebar-call"><img src="https://my.zadarma.com/callbackWidget/images/user-' + ZCallbackWidget.options.avatar_id + '.png" alt="" class="z-widget-sidebar-photo" data-text-key="userpic"><p class="z-widget-sidebar-text zcwPopup-title" data-text-key="title"></p></div><div class="z-widget-sidebar-callback"><p class="z-widget-sidebar-text zcwPopup-description" data-text-key="subtitle"></p><div class="zcwPopup-form"></div></div></div></div>',
            d1p1: '<div class="zcwPopup-bg"></div><div class="zcwPopup z-modal-window z-m-w" style=""><div class="z-m-w__img"><img src="https://my.zadarma.com/callbackWidget/images/user-' + ZCallbackWidget.options.avatar_id + '.png" alt="" data-text-key="userpic"> </div><div class="z-m-w__content" style="margin-top: -80px; padding-left: 130px;"><div class="z-m-w__text zcwPopup-title" data-text-key="title"></div><div class="z-m-w__subtitle zcwPopup-description" data-text-key="subtitle"></div><div class="zcwPopup-form"></div></div><div class="z-m-w__close zcwPopup-close"></div></div>'
        }["d" + this._getDesignId() + "p" + this._getPopupId()]
    },
    poweredBy: function() {
        return 1 != ZCallbackWidget.options.powered_by ? "" : '<div class="powered_by">Powered by <a style="" href="https://zadarma.com/?ref=' + ZCallbackWidget.options.referral_link + '">zadarma.com</a></div>'
    },
    active: function() {
        return '<form action="' + ZCallbackWidget.options.apiUrl + 'call" method="get"><input type="hidden" name="linkId" value="' + ZCallbackWidget.options.linkId + '"><input type="hidden" name="sessionId" value="' + ZCallbackWidget.sessionInfo.sId + '">' + (ZCallbackWidget.options.showPlus ? "+ " : "") + '<input type="text" name="n" value="' + (1 == ZCallbackWidget.options.autoPrefix ? ZCallbackWidget.clientCountryPrefix : "") + '" placeholder="' + ZCallbackWidget.options.texts.placeholder + '"><input type="submit" value="' + ZCallbackWidget.options.texts.callme_button + '"> <span class="zcwPopup-countdown">' + ZCallbackWidget.showCountdown(ZCallbackWidget.options.countdown) + '</span><br /><br /></form><span id="zcwPopup-error" style="display: none; color: red;"></span><span id="zcwPopup-callresult" style="display: none;"><input type="button" onClick="ZCallbackWidget.successCall();" value="' + ZCallbackWidget.options.texts.success_button + '"> <input type="button" onClick="ZCallbackWidget.failCall();" value="' + ZCallbackWidget.options.texts.fail_button + '"> </span><span id="zcwPopup-rate" style="display: none;"><br /><br />' + ZCallbackWidget.options.texts.rate_call + '<span id="zcwPopup-raty"></span> </span><span id="zcwPopup-busy" style="display: none;"><br /><br />' + ZCallbackWidget.options.texts.busy + ' <span class="link zcwPopup-recall">' + ZCallbackWidget.options.texts.repeat_call + '</span> </span><span class="link zcwPopup-deferred">' + ZCallbackWidget.options.texts.cant_talk_now + "</span>" + ZCallbackWidgetTemplate.poweredBy()
    },
    afterHours: function() {
        return '<form action="' + ZCallbackWidget.options.apiUrl + 'call_deferred" method="get"><input type="hidden" name="linkId" value="' + ZCallbackWidget.options.linkId + '"><input type="hidden" name="sessionId" value="' + ZCallbackWidget.sessionInfo.sId + '">' + (ZCallbackWidget.options.showPlus ? "+ " : "") + '<input type="text" name="n" value="' + (1 == ZCallbackWidget.options.autoPrefix ? ZCallbackWidget.clientCountryPrefix : "") + '" placeholder="' + ZCallbackWidget.options.texts.placeholder + '"> ' + ZCallbackWidgetTemplate._selectDateTime() + ' <input type="submit" value="' + ZCallbackWidget.options.texts.callme_button + '"><br /><br /></form><div id="zcwPopup-error" style="display: none; color: red;"></div><span>' + ZCallbackWidget.options.texts.comfortable_time + "</span>" + ZCallbackWidgetTemplate.poweredBy()
    },
    deferred: function() {
        return '<form action="' + ZCallbackWidget.options.apiUrl + 'call_deferred" method="get"><input type="hidden" name="linkId" value="' + ZCallbackWidget.options.linkId + '"><input type="hidden" name="sessionId" value="' + ZCallbackWidget.sessionInfo.sId + '">' + (ZCallbackWidget.options.showPlus ? "+ " : "") + '<input type="text" name="n" value="' + (1 == ZCallbackWidget.options.autoPrefix ? ZCallbackWidget.clientCountryPrefix : "") + '" placeholder="' + ZCallbackWidget.options.texts.placeholder + '"> ' + ZCallbackWidgetTemplate._selectDateTime() + ' <input type="submit" value="' + ZCallbackWidget.options.texts.callme_button + '"><br /><br /></form><div id="zcwPopup-error" style="display: none; color: red;"></div><span class="link zcwPopup-active">' + ZCallbackWidget.options.texts.talk_now + "</span>" + ZCallbackWidgetTemplate.poweredBy()
    },
    request: function() {
        var t = ZCallbackWidget.options.texts.thanks_for_request,
            e = jQuery("select[name=day] option:selected", ".zcwPopup").text(),
            i = 1 * jQuery("select[name=hour] option:selected", ".zcwPopup").val(),
            a = 1 * jQuery("select[name=minute] option:selected", ".zcwPopup").val(),
            n = (9 < i ? i : "0" + i) + ":" + (9 < a ? a : "0" + a);
        return "<b>" + (t = (t = t.replace(/#time#/, n)).replace(/#date#/, e)) + "</b>"
    },
    _selectDateTime: function() {
        var t = ZCallbackWidget.getWorkingHours(),
            e = new Date((new Date).getFullYear(), 0, 1).getTimezoneOffset(),
            i = new Date((new Date).getFullYear(), 5, 1).getTimezoneOffset(),
            a = '<input type="hidden" name="timezoneOffset" value="' + e + '" /><input type="hidden" name="isDst" value="' + (i = e != i ? 1 : 0) + '" /><select name="day" onChange="ZCallbackWidget.onChangeWorkingHours(\'day\')">',
            n = "",
            o = 0;
        for (var s in t) a += '<option value="' + t[s].dayFull + '">' + t[s].day + "</option>", 0 == o && (n = ZCallbackWidget.workingHoursOptions(t[s].dayFull)), o++;
        return (a += "</select>") + ' <select name="hour" onChange="ZCallbackWidget.onChangeWorkingHours(\'hour\')">' + n + '</select> : <select name="minute"><option value="0">00</option><option value="15">15</option><option value="30">30</option><option value="45">45</option></select>'
    },
    _getDesignId: function() {
        var t = ZCallbackWidget.options;
        if (void 0 === t.design_id) return 0;
        var e = parseInt(t.design_id);
        return 0 !== e && 1 !== e ? 0 : e
    },
    _getButtonId: function() {
        var t = ZCallbackWidget.options;
        if (void 0 === t.button_id) return 0;
        var e = this._getDesignId();
        if (0 === e) return 0;
        var i = parseInt(t.button_id);
        return 1 === e && 0 !== i && 1 !== i && 2 !== i ? 0 : i
    },
    _getPopupId: function() {
        var t = ZCallbackWidget.options;
        if (void 0 === t.popup_id) return 0;
        var e = this._getDesignId();
        if (0 === e) return 0;
        var i = parseInt(t.popup_id);
        return 1 === e && 0 !== i && 1 !== i ? 0 : i
    }
};
! function(t) {
    "use strict";

    function p(t, e) {
        var i = (65535 & t) + (65535 & e);
        return (t >> 16) + (e >> 16) + (i >> 16) << 16 | 65535 & i
    }

    function l(t, e, i, a, n, o) {
        return p((s = p(p(e, t), p(a, o))) << (l = n) | s >>> 32 - l, i);
        var s, l
    }

    function u(t, e, i, a, n, o, s) {
        return l(e & i | ~e & a, t, e, n, o, s)
    }

    function h(t, e, i, a, n, o, s) {
        return l(e & a | i & ~a, t, e, n, o, s)
    }

    function f(t, e, i, a, n, o, s) {
        return l(e ^ i ^ a, t, e, n, o, s)
    }

    function v(t, e, i, a, n, o, s) {
        return l(i ^ (e | ~a), t, e, n, o, s)
    }

    function r(t, e) {
        var i, a, n, o, s;
        t[e >> 5] |= 128 << e % 32, t[14 + (e + 64 >>> 9 << 4)] = e;
        var l = 1732584193,
            r = -271733879,
            c = -1732584194,
            d = 271733878;
        for (i = 0; i < t.length; i += 16) r = v(r = v(r = v(r = v(r = f(r = f(r = f(r = f(r = h(r = h(r = h(r = h(r = u(r = u(r = u(r = u(n = r, c = u(o = c, d = u(s = d, l = u(a = l, r, c, d, t[i], 7, -680876936), r, c, t[i + 1], 12, -389564586), l, r, t[i + 2], 17, 606105819), d, l, t[i + 3], 22, -1044525330), c = u(c, d = u(d, l = u(l, r, c, d, t[i + 4], 7, -176418897), r, c, t[i + 5], 12, 1200080426), l, r, t[i + 6], 17, -1473231341), d, l, t[i + 7], 22, -45705983), c = u(c, d = u(d, l = u(l, r, c, d, t[i + 8], 7, 1770035416), r, c, t[i + 9], 12, -1958414417), l, r, t[i + 10], 17, -42063), d, l, t[i + 11], 22, -1990404162), c = u(c, d = u(d, l = u(l, r, c, d, t[i + 12], 7, 1804603682), r, c, t[i + 13], 12, -40341101), l, r, t[i + 14], 17, -1502002290), d, l, t[i + 15], 22, 1236535329), c = h(c, d = h(d, l = h(l, r, c, d, t[i + 1], 5, -165796510), r, c, t[i + 6], 9, -1069501632), l, r, t[i + 11], 14, 643717713), d, l, t[i], 20, -373897302), c = h(c, d = h(d, l = h(l, r, c, d, t[i + 5], 5, -701558691), r, c, t[i + 10], 9, 38016083), l, r, t[i + 15], 14, -660478335), d, l, t[i + 4], 20, -405537848), c = h(c, d = h(d, l = h(l, r, c, d, t[i + 9], 5, 568446438), r, c, t[i + 14], 9, -1019803690), l, r, t[i + 3], 14, -187363961), d, l, t[i + 8], 20, 1163531501), c = h(c, d = h(d, l = h(l, r, c, d, t[i + 13], 5, -1444681467), r, c, t[i + 2], 9, -51403784), l, r, t[i + 7], 14, 1735328473), d, l, t[i + 12], 20, -1926607734), c = f(c, d = f(d, l = f(l, r, c, d, t[i + 5], 4, -378558), r, c, t[i + 8], 11, -2022574463), l, r, t[i + 11], 16, 1839030562), d, l, t[i + 14], 23, -35309556), c = f(c, d = f(d, l = f(l, r, c, d, t[i + 1], 4, -1530992060), r, c, t[i + 4], 11, 1272893353), l, r, t[i + 7], 16, -155497632), d, l, t[i + 10], 23, -1094730640), c = f(c, d = f(d, l = f(l, r, c, d, t[i + 13], 4, 681279174), r, c, t[i], 11, -358537222), l, r, t[i + 3], 16, -722521979), d, l, t[i + 6], 23, 76029189), c = f(c, d = f(d, l = f(l, r, c, d, t[i + 9], 4, -640364487), r, c, t[i + 12], 11, -421815835), l, r, t[i + 15], 16, 530742520), d, l, t[i + 2], 23, -995338651), c = v(c, d = v(d, l = v(l, r, c, d, t[i], 6, -198630844), r, c, t[i + 7], 10, 1126891415), l, r, t[i + 14], 15, -1416354905), d, l, t[i + 5], 21, -57434055), c = v(c, d = v(d, l = v(l, r, c, d, t[i + 12], 6, 1700485571), r, c, t[i + 3], 10, -1894986606), l, r, t[i + 10], 15, -1051523), d, l, t[i + 1], 21, -2054922799), c = v(c, d = v(d, l = v(l, r, c, d, t[i + 8], 6, 1873313359), r, c, t[i + 15], 10, -30611744), l, r, t[i + 6], 15, -1560198380), d, l, t[i + 13], 21, 1309151649), c = v(c, d = v(d, l = v(l, r, c, d, t[i + 4], 6, -145523070), r, c, t[i + 11], 10, -1120210379), l, r, t[i + 2], 15, 718787259), d, l, t[i + 9], 21, -343485551), l = p(l, a), r = p(r, n), c = p(c, o), d = p(d, s);
        return [l, r, c, d]
    }

    function c(t) {
        var e, i = "",
            a = 32 * t.length;
        for (e = 0; e < a; e += 8) i += String.fromCharCode(t[e >> 5] >>> e % 32 & 255);
        return i
    }

    function d(t) {
        var e, i = [];
        for (i[(t.length >> 2) - 1] = void 0, e = 0; e < i.length; e += 1) i[e] = 0;
        var a = 8 * t.length;
        for (e = 0; e < a; e += 8) i[e >> 5] |= (255 & t.charCodeAt(e / 8)) << e % 32;
        return i
    }

    function a(t) {
        var e, i, a = "0123456789abcdef",
            n = "";
        for (i = 0; i < t.length; i += 1) e = t.charCodeAt(i), n += a.charAt(e >>> 4 & 15) + a.charAt(15 & e);
        return n
    }

    function i(t) {
        return decodeURIComponent(encodeURIComponent(t))
    }

    function n(t) {
        return c(r(d(e = i(t)), 8 * e.length));
        var e
    }

    function o(t, e) {
        return function(t, e) {
            var i, a, n = d(t),
                o = [],
                s = [];
            for (o[15] = s[15] = void 0, 16 < n.length && (n = r(n, 8 * t.length)), i = 0; i < 16; i += 1) o[i] = 909522486 ^ n[i], s[i] = 1549556828 ^ n[i];
            return a = r(o.concat(d(e)), 512 + 8 * e.length), c(r(s.concat(a), 640))
        }(i(t), i(e))
    }

    function e(t, e, i) {
        return e ? i ? o(e, t) : a(o(e, t)) : i ? n(t) : a(n(t))
    }
    "function" == typeof define && define.amd ? define(function() {
        return e
    }) : "object" == typeof module && module.exports ? module.exports = e : t.md5hash = e
}(this),
function(l) {
    "use strict";
    var r = {
        init: function(t) {
            return this.each(function() {
                this.self = l(this), r.destroy.call(this.self), this.opt = l.extend(!0, {}, l.fn.raty.defaults, t), r._adjustCallback.call(this), r._adjustNumber.call(this), r._adjustHints.call(this), this.opt.score = r._adjustedScore.call(this, this.opt.score), "img" !== this.opt.starType && r._adjustStarType.call(this), r._adjustPath.call(this), r._createStars.call(this), this.opt.cancel && r._createCancel.call(this), this.opt.precision && r._adjustPrecision.call(this), r._createScore.call(this), r._apply.call(this, this.opt.score), r._setTitle.call(this, this.opt.score), r._target.call(this, this.opt.score), this.opt.readOnly ? r._lock.call(this) : (this.style.cursor = "pointer", r._binds.call(this))
            })
        },
        _adjustCallback: function() {
            for (var t = ["number", "readOnly", "score", "scoreName", "target", "path"], e = 0; e < t.length; e++) "function" == typeof this.opt[t[e]] && (this.opt[t[e]] = this.opt[t[e]].call(this))
        },
        _adjustedScore: function(t) {
            return t ? r._between(t, 0, this.opt.number) : t
        },
        _adjustHints: function() {
            if (this.opt.hints || (this.opt.hints = []), this.opt.halfShow || this.opt.half)
                for (var t = this.opt.precision ? 10 : 2, e = 0; e < this.opt.number; e++) {
                    var i = this.opt.hints[e];
                    "[object Array]" !== Object.prototype.toString.call(i) && (i = [i]), this.opt.hints[e] = [];
                    for (var a = 0; a < t; a++) {
                        var n = i[a],
                            o = i[i.length - 1];
                        void 0 === o && (o = null), this.opt.hints[e][a] = void 0 === n ? o : n
                    }
                }
        },
        _adjustNumber: function() {
            this.opt.number = r._between(this.opt.number, 1, this.opt.numberMax)
        },
        _adjustPath: function() {
            this.opt.path = this.opt.path || "", this.opt.path && "/" !== this.opt.path.charAt(this.opt.path.length - 1) && (this.opt.path += "/")
        },
        _adjustPrecision: function() {
            this.opt.half = !0
        },
        _adjustStarType: function() {
            var t = ["cancelOff", "cancelOn", "starHalf", "starOff", "starOn"];
            this.opt.path = "";
            for (var e = 0; e < t.length; e++) this.opt[t[e]] = this.opt[t[e]].replace(".", "-")
        },
        _apply: function(t) {
            r._fill.call(this, t), t && (0 < t && this.score.val(t), r._roundStars.call(this, t))
        },
        _between: function(t, e, i) {
            return Math.min(Math.max(parseFloat(t), e), i)
        },
        _binds: function() {
            this.cancel && (r._bindOverCancel.call(this), r._bindClickCancel.call(this), r._bindOutCancel.call(this)), r._bindOver.call(this), r._bindClick.call(this), r._bindOut.call(this)
        },
        _bindClick: function() {
            var a = this;
            a.stars.on("click.raty", function(t) {
                var e = !0,
                    i = a.opt.half || a.opt.precision ? a.self.data("score") : this.alt || l(this).data("alt");
                a.opt.click && (e = a.opt.click.call(a, +i, t)), (e || void 0 === e) && (a.opt.half && !a.opt.precision && (i = r._roundHalfScore.call(a, i)), r._apply.call(a, i))
            })
        },
        _bindClickCancel: function() {
            var e = this;
            e.cancel.on("click.raty", function(t) {
                e.score.removeAttr("value"), e.opt.click && e.opt.click.call(e, null, t)
            })
        },
        _bindOut: function() {
            var i = this;
            i.self.on("mouseleave.raty", function(t) {
                var e = +i.score.val() || void 0;
                r._apply.call(i, e), r._target.call(i, e, t), r._resetTitle.call(i), i.opt.mouseout && i.opt.mouseout.call(i, e, t)
            })
        },
        _bindOutCancel: function() {
            var a = this;
            a.cancel.on("mouseleave.raty", function(t) {
                var e = a.opt.cancelOff;
                if ("img" !== a.opt.starType && (e = a.opt.cancelClass + " " + e), r._setIcon.call(a, this, e), a.opt.mouseout) {
                    var i = +a.score.val() || void 0;
                    a.opt.mouseout.call(a, i, t)
                }
            })
        },
        _bindOver: function() {
            var i = this,
                t = i.opt.half ? "mousemove.raty" : "mouseover.raty";
            i.stars.on(t, function(t) {
                var e = r._getScoreByPosition.call(i, t, this);
                r._fill.call(i, e), i.opt.half && (r._roundStars.call(i, e, t), r._setTitle.call(i, e, t), i.self.data("score", e)), r._target.call(i, e, t), i.opt.mouseover && i.opt.mouseover.call(i, e, t)
            })
        },
        _bindOverCancel: function() {
            var a = this;
            a.cancel.on("mouseover.raty", function(t) {
                var e = a.opt.path + a.opt.starOff,
                    i = a.opt.cancelOn;
                "img" === a.opt.starType ? a.stars.attr("src", e) : (i = a.opt.cancelClass + " " + i, a.stars.attr("class", e)), r._setIcon.call(a, this, i), r._target.call(a, null, t), a.opt.mouseover && a.opt.mouseover.call(a, null)
            })
        },
        _buildScoreField: function() {
            return l("<input />", {
                name: this.opt.scoreName,
                type: "hidden"
            }).appendTo(this)
        },
        _createCancel: function() {
            var t = this.opt.path + this.opt.cancelOff,
                e = l("<" + this.opt.starType + " />", {
                    title: this.opt.cancelHint,
                    class: this.opt.cancelClass
                });
            "img" === this.opt.starType ? e.attr({
                src: t,
                alt: "x"
            }) : e.attr("data-alt", "x").addClass(t), "left" === this.opt.cancelPlace ? this.self.prepend("&#160;").prepend(e) : this.self.append("&#160;").append(e), this.cancel = e
        },
        _createScore: function() {
            var t = l(this.opt.targetScore);
            this.score = t.length ? t : r._buildScoreField.call(this)
        },
        _createStars: function() {
            for (var t = 1; t <= this.opt.number; t++) {
                var e = r._nameForIndex.call(this, t),
                    i = {
                        alt: t,
                        src: this.opt.path + this.opt[e]
                    };
                "img" !== this.opt.starType && (i = {
                    "data-alt": t,
                    class: i.src
                }), i.title = r._getHint.call(this, t), l("<" + this.opt.starType + " />", i).appendTo(this), this.opt.space && this.self.append(t < this.opt.number ? "&#160;" : "")
            }
            this.stars = this.self.children(this.opt.starType)
        },
        _error: function(t) {
            l(this).text(t), l.error(t)
        },
        _fill: function(t) {
            for (var e = 0, i = 1; i <= this.stars.length; i++) {
                var a, n = this.stars[i - 1],
                    o = r._turnOn.call(this, i, t);
                if (this.opt.iconRange && this.opt.iconRange.length > e) {
                    var s = this.opt.iconRange[e];
                    a = r._getRangeIcon.call(this, s, o), i <= s.range && r._setIcon.call(this, n, a), i === s.range && e++
                } else a = this.opt[o ? "starOn" : "starOff"], r._setIcon.call(this, n, a)
            }
        },
        _getFirstDecimal: function(t) {
            var e = t.toString().split(".")[1],
                i = 0;
            return e && (i = parseInt(e.charAt(0), 10), "9999" === e.slice(1, 5) && i++), i
        },
        _getRangeIcon: function(t, e) {
            return e ? t.on || this.opt.starOn : t.off || this.opt.starOff
        },
        _getScoreByPosition: function(t, e) {
            var i = parseInt(e.alt || e.getAttribute("data-alt"), 10);
            if (this.opt.half) {
                var a = r._getWidth.call(this);
                i = i - 1 + parseFloat((t.pageX - l(e).offset().left) / a)
            }
            return i
        },
        _getHint: function(t, e) {
            if (0 !== t && !t) return this.opt.noRatedMsg;
            var i = r._getFirstDecimal.call(this, t),
                a = Math.ceil(t),
                n = this.opt.hints[(a || 1) - 1],
                o = n,
                s = !e || this.move;
            return this.opt.precision ? (s && (i = 0 === i ? 9 : i - 1), o = n[i]) : (this.opt.halfShow || this.opt.half) && (o = n[i = s && 0 === i ? 1 : 5 < i ? 1 : 0]), "" === o ? "" : o || t
        },
        _getWidth: function() {
            var t = this.stars[0].width || parseFloat(this.stars.eq(0).css("font-size"));
            return t || r._error.call(this, "Could not get the icon width!"), t
        },
        _lock: function() {
            var t = r._getHint.call(this, this.score.val());
            this.style.cursor = "", this.title = t, this.score.prop("readonly", !0), this.stars.prop("title", t), this.cancel && this.cancel.hide(), this.self.data("readonly", !0)
        },
        _nameForIndex: function(t) {
            return this.opt.score && this.opt.score >= t ? "starOn" : "starOff"
        },
        _resetTitle: function(t) {
            for (var e = 0; e < this.opt.number; e++) this.stars[e].title = r._getHint.call(this, e + 1)
        },
        _roundHalfScore: function(t) {
            var e = parseInt(t, 10),
                i = r._getFirstDecimal.call(this, t);
            return 0 !== i && (i = 5 < i ? 1 : .5), e + i
        },
        _roundStars: function(t, e) {
            var i, a = (t % 1).toFixed(2);
            if (e || this.move ? i = .5 < a ? "starOn" : "starHalf" : a > this.opt.round.down && (i = "starOn", this.opt.halfShow && a < this.opt.round.up ? i = "starHalf" : a < this.opt.round.full && (i = "starOff")), i) {
                var n = this.opt[i],
                    o = this.stars[Math.ceil(t) - 1];
                r._setIcon.call(this, o, n)
            }
        },
        _setIcon: function(t, e) {
            t["img" === this.opt.starType ? "src" : "className"] = this.opt.path + e
        },
        _setTarget: function(t, e) {
            e && (e = this.opt.targetFormat.toString().replace("{score}", e)), t.is(":input") ? t.val(e) : t.html(e)
        },
        _setTitle: function(t, e) {
            if (t) {
                var i = parseInt(Math.ceil(t), 10);
                this.stars[i - 1].title = r._getHint.call(this, t, e)
            }
        },
        _target: function(t, e) {
            if (this.opt.target) {
                var i = l(this.opt.target);
                i.length || r._error.call(this, "Target selector invalid or missing!");
                var a = e && "mouseover" === e.type;
                if (void 0 === t) t = this.opt.targetText;
                else if (null === t) t = a ? this.opt.cancelHint : this.opt.targetText;
                else {
                    "hint" === this.opt.targetType ? t = r._getHint.call(this, t, e) : this.opt.precision && (t = parseFloat(t).toFixed(1));
                    var n = e && "mousemove" === e.type;
                    a || n || this.opt.targetKeep || (t = this.opt.targetText)
                }
                r._setTarget.call(this, i, t)
            }
        },
        _turnOn: function(t, e) {
            return this.opt.single ? t === e : t <= e
        },
        _unlock: function() {
            this.style.cursor = "pointer", this.removeAttribute("title"), this.score.removeAttr("readonly"), this.self.data("readonly", !1);
            for (var t = 0; t < this.opt.number; t++) this.stars[t].title = r._getHint.call(this, t + 1);
            this.cancel && this.cancel.css("display", "")
        },
        cancel: function(e) {
            return this.each(function() {
                var t = l(this);
                !0 !== t.data("readonly") && (r[e ? "click" : "score"].call(t, null), this.score.removeAttr("value"))
            })
        },
        click: function(t) {
            return this.each(function() {
                !0 !== l(this).data("readonly") && (t = r._adjustedScore.call(this, t), r._apply.call(this, t), this.opt.click && this.opt.click.call(this, t, l.Event("click")), r._target.call(this, t))
            })
        },
        destroy: function() {
            return this.each(function() {
                var t = l(this),
                    e = t.data("raw");
                e ? t.off(".raty").empty().css({
                    cursor: e.style.cursor
                }).removeData("readonly") : t.data("raw", t.clone()[0])
            })
        },
        getScore: function() {
            var t, e = [];
            return this.each(function() {
                t = this.score.val(), e.push(t ? +t : void 0)
            }), 1 < e.length ? e : e[0]
        },
        move: function(s) {
            return this.each(function() {
                var t = parseInt(s, 10),
                    e = r._getFirstDecimal.call(this, s);
                t >= this.opt.number && (t = this.opt.number - 1, e = 10);
                var i = r._getWidth.call(this) / 10,
                    a = l(this.stars[t]),
                    n = a.offset().left + i * e,
                    o = l.Event("mousemove", {
                        pageX: n
                    });
                this.move = !0, a.trigger(o), this.move = !1
            })
        },
        readOnly: function(e) {
            return this.each(function() {
                var t = l(this);
                t.data("readonly") !== e && (e ? (t.off(".raty").children("img").off(".raty"), r._lock.call(this)) : (r._binds.call(this), r._unlock.call(this)), t.data("readonly", e))
            })
        },
        reload: function() {
            return r.set.call(this, {})
        },
        score: function() {
            var t = l(this);
            return arguments.length ? r.setScore.apply(t, arguments) : r.getScore.call(t)
        },
        set: function(t) {
            return this.each(function() {
                l(this).raty(l.extend({}, this.opt, t))
            })
        },
        setScore: function(t) {
            return this.each(function() {
                !0 !== l(this).data("readonly") && (t = r._adjustedScore.call(this, t), r._apply.call(this, t), r._target.call(this, t))
            })
        }
    };
    l.fn.raty = function(t) {
        return r[t] ? r[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void l.error("Method " + t + " does not exist!") : r.init.apply(this, arguments)
    }, l.fn.raty.defaults = {
        cancel: !1,
        cancelClass: "raty-cancel",
        cancelHint: "Cancel this rating!",
        cancelOff: "cancel-off.png",
        cancelOn: "cancel-on.png",
        cancelPlace: "left",
        click: void 0,
        half: !1,
        halfShow: !0,
        hints: ["bad", "poor", "regular", "good", "gorgeous"],
        iconRange: void 0,
        mouseout: void 0,
        mouseover: void 0,
        noRatedMsg: "Not rated yet!",
        number: 5,
        numberMax: 20,
        path: void 0,
        precision: !1,
        readOnly: !1,
        round: {
            down: .25,
            full: .6,
            up: .76
        },
        score: void 0,
        scoreName: "score",
        single: !1,
        space: !0,
        starHalf: "star-half.png",
        starOff: "star-off.png",
        starOn: "star-on.png",
        starType: "img",
        target: void 0,
        targetFormat: "{score}",
        targetKeep: !1,
        targetScore: void 0,
        targetText: "",
        targetType: "hint"
    }
}(jQuery);